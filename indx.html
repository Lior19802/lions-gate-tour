<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>סיור וירטואלי שער האריות</title>
    <style>
        .virtual-tour {
            margin: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }

        .tour-stop {
            margin-bottom: 30px;
        }

        .tour-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .image-description {
            margin: 10px 0;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .tour-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .nav-button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .ar-button {
            background-color: #2196F3;
        }

        #ar-scene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>
<body>
    <h1>שער האריות - סיור וירטואלי</h1>
    
    <div class="virtual-tour">
        <h2>סיור וירטואלי</h2>
        
        <!-- תחנה 1 -->
        <div class="tour-stop">
            <img src="תמונה-1.jpg" alt="מבט חזיתי על שער האריות" class="tour-image">
            <div class="image-description">
                <h3>שער האריות - מבט חזיתי</h3>
                <p>שער האריות, הידוע גם כשער סנט סטפן, הוא אחד משמונת שערי העיר העתיקה בירושלים. השער קיבל את שמו מזוג האריות המעטרים את חזיתו.</p>
            </div>
        </div>

        <!-- תחנה 2 -->
        <div class="tour-stop">
            <img src="תמונה-2.jpg" alt="האריות המפורסמים" class="tour-image">
            <div class="image-description">
                <h3>האריות המפורסמים</h3>
                <p>על חזית השער מעטרים שני זוגות של אריות, שנחשבים לסמל היכר של השער. על פי האגדה, הם הונחו שם על ידי הסולטאן סולימאן המפואר.</p>
            </div>
        </div>

        <!-- תחנה 3 -->
        <div class="tour-stop">
            <img src="תמונה-3.jpg" alt="מבט מבפנים" class="tour-image">
            <div class="image-description">
                <h3>מבט מתוך השער</h3>
                <p>המעבר בשער מוביל ישירות אל הרובע המוסלמי ואל ויה דולורוזה. השער משמש כניסה מרכזית להר הבית ולמסגד אל-אקצא.</p>
            </div>
        </div>

        <!-- תחנה 4 -->
        <div class="tour-stop">
            <img src="תמונה-4.jpg" alt="הכתובות ההיסטוריות" class="tour-image">
            <div class="image-description">
                <h3>הכתובות ההיסטוריות</h3>
                <p>מעל השער ישנן כתובות בערבית המספרות על בנייתו בשנת 1538-1539 בתקופת השלטון העות'מאני.</p>
            </div>
        </div>

        <!-- תחנה 5 -->
        <div class="tour-stop">
            <img src="תמונה-5.jpg" alt="הסביבה הקרובה" class="tour-image">
            <div class="image-description">
                <h3>הסביבה הקרובה</h3>
                <p>מול השער נמצאת כנסיית סנט אנה וברכות בית חסדא. האזור מהווה נקודת התחלה של ויה דולורוזה.</p>
            </div>
        </div>

        <!-- תחנה 6 -->
        <div class="tour-stop">
            <img src="תמונה-6.jpg" alt="חומות העיר העתיקה" class="tour-image">
            <div class="image-description">
                <h3>חומות העיר העתיקה</h3>
                <p>שער האריות הוא חלק ממערכת החומות המרשימה של העיר העתיקה, שנבנתה בתקופה העות'מאנית במאה ה-16.</p>
            </div>
        </div>

        <div class="historical-info">
            <h2>מידע היסטורי</h2>
            <p>שער האריות נבנה בשנת 1538-1539 על ידי הסולטאן סולימאן המפואר. השער קיבל את שמו בשל האריות המעטרים את חזיתו, אך הוא ידוע גם בשם שער סנט סטפן על שם הקדוש הנוצרי שעל פי המסורת נסקל באזור זה.</p>
            <p>השער שימש לאורך ההיסטוריה כנקודת כניסה חשובה לעיר העתיקה, ודרכו עוברת ויה דולורוזה - דרך הייסורים.</p>
        </div>

        <div class="tour-navigation">
            <button class="nav-button" onclick="prevStop()">הקודם</button>
            <button class="nav-button" onclick="nextStop()">הבא</button>
            <button class="nav-button ar-button" onclick="startAR()">הפעל AR</button>
        </div>
    </div>

    <div id="ar-scene" style="display: none;">
        <button onclick="exitAR()" style="position: fixed; top: 10px; right: 10px; z-index: 1001; padding: 10px;">יציאה מ-AR</button>
        <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
            <a-marker preset="hiro">
                <a-box position='0 0.5 0' material='color: red;'></a-box>ת המודל המורכב בקובייה פשוטה לבדיקה -->
            </a-marker>.5 0' material='color: red;'></a-box>
            <a-entity camera></a-entity>
            <a-entity camera></a-entity>
        </a-scene>
    </div>

    <script>tStop = 0;
        let currentStop = 0;nst stops = document.querySelectorAll('.tour-stop');
        const stops = document.querySelectorAll('.tour-stop');        
        סתר את כל התחנות חוץ מהראשונה
        // הסתר את כל התחנות חוץ מהראשונה index) => {
        stops.forEach((stop, index) => {
            if (index !== 0) stop.style.display = 'none';});
        });

        function nextStop() {
            if (currentStop < stops.length - 1) {     stops[currentStop].style.display = 'none';
                stops[currentStop].style.display = 'none';                currentStop++;
                currentStop++;Stop].style.display = 'block';
                stops[currentStop].style.display = 'block';
            }
        }

        function prevStop() {f (currentStop > 0) {
            if (currentStop > 0) {       stops[currentStop].style.display = 'none';
                stops[currentStop].style.display = 'none';                currentStop--;
                currentStop--;Stop].style.display = 'block';
                stops[currentStop].style.display = 'block';
            }
        }

        function startAR() {/ בדיקת תמיכה ב-AR
            // בדיקת תמיכה ב-AR   if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {                alert('הדפדפן שלך לא תומך ב-AR');
                alert('הדפדפן שלך לא תומך ב-AR');
                return;
            }

            // הסתרת הסיור הרגיל והצגת סצנת ה-ARerySelector('.virtual-tour').style.display = 'none';
            document.querySelector('.virtual-tour').style.display = 'none';ocument.querySelector('#ar-scene').style.display = 'block';
            document.querySelector('#ar-scene').style.display = 'block';

            // בקשת הרשאת מצלמה
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function(stream) {                    console.log('מצלמה מופעלת בהצלחה');
                    console.log('מצלמה מופעלת בהצלחה');
                })
                .catch(function(error) {ל את המצלמה: ' + error.message);
                    alert('לא ניתן להפעיל את המצלמה: ' + error.message);
                    exitAR();;
                });
        }

        function exitAR() {t.querySelector('.virtual-tour').style.display = 'block';
            document.querySelector('.virtual-tour').style.display = 'block';   document.querySelector('#ar-scene').style.display = 'none';
            document.querySelector('#ar-scene').style.display = 'none';        }
        }
    </script>
</body>
</html>


